<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PanneauChargement.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Formiko</a> &gt; <a href="index.source.html" class="el_package">fr.formiko.views.gui2d</a> &gt; <span class="el_source">PanneauChargement.java</span></div><h1>PanneauChargement.java</h1><pre class="source lang-java linenums">package fr.formiko.views.gui2d;

import fr.formiko.formiko.Main;
import fr.formiko.usuel.debug;
import fr.formiko.usuel.erreur;
import fr.formiko.usuel.g;
import fr.formiko.usuel.images.image;
import fr.formiko.usuel.listes.GString;
import fr.formiko.usuel.maths.allea;

import java.awt.Graphics;
import java.awt.Image;
import java.awt.image.BufferedImage;

public class PanneauChargement extends Panneau {
  private Bouton b;
  private int tempsTotalDeChargement;
  private Desc message;
  private PanneauInfo conseil;
  private boolean lancer;
  private Bouton bt;
  // CONSTRUCTEUR ---------------------------------------------------------------
<span class="nc" id="L23">  public PanneauChargement(){</span>
<span class="nc" id="L24">    setLayout(null);</span>
<span class="nc" id="L25">    Main.getData().loadImageChargement();</span>
<span class="nc" id="L26">    addMessage();</span>
<span class="nc" id="L27">    addConseil();</span>
<span class="nc" id="L28">    lancer=false;</span>
<span class="nc" id="L29">  }</span>
  // GET SET --------------------------------------------------------------------
<span class="nc" id="L31">  public void setTexte(String s){ message.setTexte(s);}</span>
<span class="nc" id="L32">  public boolean getLancer(){return lancer;}</span>
<span class="nc" id="L33">  public void setLancer(boolean b){lancer=b;}</span>
  // Fonctions propre -----------------------------------------------------------
  public void paintComponent(Graphics g){
    try {
<span class="nc bnc" id="L37" title="All 2 branches missed.">      if(!Main.getPartie().getEnCours()){return;}</span>
<span class="nc" id="L38">    }catch (Exception e) {}</span>
<span class="nc" id="L39">    debug.g(&quot;PanneauChargement&quot;,this.getWidth(),this.getHeight());</span>
<span class="nc" id="L40">    g.drawImage(Main.getData().getImageChargement(),0,0,this);</span>
<span class="nc" id="L41">    int xx = Main.getF().getWidth()/5;</span>
<span class="nc" id="L42">    int yy = Main.getF().getHeight()/5;</span>
<span class="nc" id="L43">    message.setBounds(xx,yy*4-Main.getTaillePolice1(),xx*3);//le niveau d'avancement du chargement</span>
<span class="nc" id="L44">    conseil.setBounds(xx,(yy*4)-(2*Main.getTaillePolice1())-conseil.getYPi(),conseil.getWidth(),conseil.getHeight());//le conseil</span>
<span class="nc" id="L45">  }</span>
  public void addBt(){
<span class="nc" id="L47">    lancer=false;</span>
<span class="nc" id="L48">    bt = new Bouton(g.getM(&quot;lancerLeJeu&quot;), Main.getPj(), 111);</span>
<span class="nc" id="L49">    bt.setFont(Main.getFont2());</span>
<span class="nc" id="L50">    add(bt);</span>
<span class="nc" id="L51">    int xx = Main.getF().getWidth()/5;</span>
<span class="nc" id="L52">    int yy = Main.getF().getHeight()/5;</span>
<span class="nc" id="L53">    bt.setBounds((int)(xx*1.5),yy*4+Main.getTaillePolice1(),xx*2,Main.getTaillePolice2());</span>
<span class="nc" id="L54">  }</span>
  public void addMessage(){
<span class="nc" id="L56">    message = new Desc();</span>
<span class="nc" id="L57">    message.setTexte(&quot;&quot;);</span>
<span class="nc" id="L58">    add(message);</span>
<span class="nc" id="L59">  }</span>
  public void addConseil(){
<span class="nc" id="L61">    int x = allea.getAll√©a(19)+1;//de 1 a 19.</span>
<span class="nc" id="L62">    String s = g.getM(&quot;conseil.&quot;+x);</span>
<span class="nc" id="L63">    GString gs = new GString();</span>
<span class="nc" id="L64">    gs.addParMorceaux(s,70,true);//ajoute 70 char par 70 char (sans couper les mots) a la GString</span>
<span class="nc" id="L65">    conseil = new PanneauInfo(gs,(Main.getF().getWidth()*3)/5);</span>
<span class="nc" id="L66">    add(conseil);</span>
<span class="nc" id="L67">    repaint();</span>
<span class="nc" id="L68">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>