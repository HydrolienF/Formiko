<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>List.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Formiko</a> &gt; <a href="index.source.html" class="el_package">fr.formiko.usuel.listes</a> &gt; <span class="el_source">List.java</span></div><h1>List.java</h1><pre class="source lang-java linenums">package fr.formiko.usuel.listes;

import java.io.Serializable;
import java.util.Iterator;

/**
*{@summary Custom Linked List class using Generics.}&lt;br&gt;
*@version 1.41
*@author Hydrolien
*/
public class List&lt;T&gt; implements Iterable&lt;T&gt;, Serializable {
  protected Node&lt;T&gt; head, tail;
  // CONSTRUCTORS --------------------------------------------------------------
<span class="fc" id="L14">  public List(){}</span>
  // GET SET -------------------------------------------------------------------
<span class="fc" id="L16">  public Node&lt;T&gt; getHead(){return head;}</span>
<span class="fc" id="L17">  public Node&lt;T&gt; getTail(){return tail;}</span>
  // FUNCTIONS -----------------------------------------------------------------
  /**
  *{@summary add new Element at tail of the linked list}&lt;br&gt;
  *@version 1.31
  */
  public void addTail(T content){
<span class="fc bfc" id="L24" title="All 2 branches covered.">    if(content==null){return;}</span>
    //if(containt(content)){return;}
<span class="fc" id="L26">    Node&lt;T&gt; node = new Node&lt;&gt;(content, null);</span>
<span class="fc bfc" id="L27" title="All 2 branches covered.">    if (head == null)</span>
<span class="fc" id="L28">      tail = head = node;</span>
    else {
<span class="fc" id="L30">      tail.setNext(node);</span>
<span class="fc" id="L31">      tail = node;</span>
    }
<span class="fc" id="L33">  }</span>
  /**
  *{@summary Update tail element.}&lt;br&gt;
  *@version 1.41
  */
  public void updateTail(){
<span class="nc" id="L39">    Node&lt;T&gt; node = getHead();</span>
<span class="nc bnc" id="L40" title="All 2 branches missed.">    while(node.getNext()!=null){</span>
<span class="nc" id="L41">      node=node.getNext();</span>
    }
<span class="nc" id="L43">    tail=node;</span>
<span class="nc" id="L44">  }</span>
  /***
  *{@summary add new Element at the default place. At the tail of the linked list}&lt;br&gt;
  *@version 1.31
  */
<span class="fc" id="L49">  public void add(T content){addTail(content);}</span>
  /**
  *{@summary add an other linked list at tail of the linked list}&lt;br&gt;
  *@version 1.31
  */
  public void addList(List&lt;T&gt; list){
<span class="pc bpc" id="L55" title="1 of 4 branches missed.">    if(list == null || list.getHead() == null){ return;}</span>
<span class="fc bfc" id="L56" title="All 2 branches covered.">    if (getTail() == null){</span>
<span class="fc" id="L57">      head = list.getHead();</span>
<span class="fc" id="L58">      tail = list.getTail();</span>
    }else {
<span class="fc" id="L60">      tail.setNext(list.getHead());</span>
      //list.getHead().add(tail);
<span class="fc" id="L62">      tail = list.getTail();</span>
    }
<span class="fc" id="L64">  }</span>
<span class="fc" id="L65">  public void add(List&lt;T&gt; list){addList(list);}</span>
  /**
  *{@summary Return the number of element.}&lt;br&gt;
  *@version 1.31
  */
  public int length(){
<span class="fc" id="L71">    int cpt = 0;</span>
<span class="fc bfc" id="L72" title="All 2 branches covered.">    for (T t : this ) {</span>
<span class="fc" id="L73">      cpt++;</span>
<span class="fc" id="L74">    }</span>
<span class="fc" id="L75">    return cpt;</span>
  }
  /**
  *{@summary Standard equals function.}
  *Null &amp;#38; other class type proof.
  *@param o o is the Object to test. It can be null or something else than this class.
  *@version 1.31
  */
  @Override
  public boolean equals(Object o){
<span class="pc bpc" id="L85" title="1 of 4 branches missed.">    if(o==null || !(o instanceof List)){return false;}</span>
<span class="fc" id="L86">    List gs = (List)o;</span>
<span class="pc bpc" id="L87" title="1 of 4 branches missed.">    if(getHead()==null &amp;&amp; gs.getHead()==null){return true;}</span>
<span class="pc bpc" id="L88" title="1 of 4 branches missed.">    if(getHead()==null || gs.getHead()==null){return false;}</span>
<span class="fc" id="L89">    return getHead().equals(gs.getHead());</span>
  }
  /**
  *{@summary Return true if this containt T content.}&lt;br&gt;
  *@version 1.31
  */
  public boolean containt(T content){
<span class="fc bfc" id="L96" title="All 2 branches covered.">    if(content==null){return false;}</span>
<span class="fc bfc" id="L97" title="All 2 branches covered.">    for (T t : this ) {</span>
      //TODO #197 it do not use the overriding equals methode (cf ListTest for more information)
      //if(content instanceof T &amp;&amp; t instanceof T){
<span class="fc bfc" id="L100" title="All 2 branches covered.">        if(((T)(t)).equals(content)){return true;}</span>
      /*}else{
        System.out.println(&quot;pas dans le bon if&quot;);
      }*/
<span class="fc" id="L104">    }</span>
<span class="fc" id="L105">    return false;</span>
  }
  /**
  *{@summary Return a long string with all the list value split by ' '.}&lt;br&gt;
  *@version 1.31
  */
  @Override
  public String toString(){
<span class="fc" id="L113">    String r = &quot;&quot;;</span>
<span class="fc bfc" id="L114" title="All 2 branches covered.">    for (T t : this ) {</span>
<span class="fc" id="L115">      r+= t.toString();</span>
<span class="fc" id="L116">      r+= &quot; &quot;;</span>
<span class="fc" id="L117">    }</span>
<span class="fc" id="L118">    return r;</span>
  }
  /**
  *{@summary Return a long string with all the list value split by '\n'.}&lt;br&gt;
  *@version 1.41
  */
  public String toStringLong(){
<span class="fc" id="L125">    String r = &quot;&quot;;</span>
<span class="fc bfc" id="L126" title="All 2 branches covered.">    for (T t : this ) {</span>
<span class="fc" id="L127">      r+= t.toString();</span>
<span class="fc" id="L128">      r+= &quot;\n&quot;;</span>
<span class="fc" id="L129">    }</span>
<span class="fc" id="L130">    return r;</span>
  }
  /**
  *{@summary return the xa item}&lt;br&gt;
  *@version 1.31
  */
  public T getItem(int id){
<span class="nc bnc" id="L137" title="All 2 branches missed.">    if(id&lt;0){return null;}</span>
<span class="nc bnc" id="L138" title="All 2 branches missed.">    for (T item : this ) {</span>
<span class="nc bnc" id="L139" title="All 2 branches missed.">      if(id==0){return item;}</span>
<span class="nc" id="L140">      id--;</span>
<span class="nc" id="L141">    }</span>
<span class="nc" id="L142">    return null;</span>
  }
  /**
  *{@summary copy only different item.}&lt;br&gt;
  *@version 1.41
  */
  public void removeDuplicateItem(){
<span class="nc" id="L149">    List&lt;T&gt; newList = new List&lt;T&gt;();</span>
<span class="nc bnc" id="L150" title="All 2 branches missed.">    for (T t : this ) {</span>
<span class="nc bnc" id="L151" title="All 2 branches missed.">      if (!newList.containt(t)){</span>
<span class="nc" id="L152">        newList.add(t);</span>
      }
<span class="nc" id="L154">    }</span>
<span class="nc" id="L155">    head = newList.getHead();</span>
<span class="nc" id="L156">    tail = newList.getTail();</span>
<span class="nc" id="L157">  }</span>
  /**
  *{@summary Delete the 1a t element}&lt;br&gt;
  *@param t the element to remove.
  *@return true if it have been remove
  *@version 1.41
  */
  public boolean remove(T t){
<span class="nc bnc" id="L165" title="All 4 branches missed.">    if(getHead()==null || t==null){return false;}</span>
<span class="nc" id="L166">    return getHead().remove(t);</span>
  }
  /**
  *{@summary return the coresponding Iterator}&lt;br&gt;
  *@version 1.31
  */
  public Iterator&lt;T&gt; iterator(){
<span class="fc" id="L173">    return new ListIterator&lt;T&gt;(this);</span>
  }
}
/**
*{@summary Iterator of the Linked List}&lt;br&gt;
*@version 1.31
*@author Hydrolien
*/
class ListIterator&lt;T&gt; implements Iterator&lt;T&gt; {
  private Node&lt;T&gt; current;

  /**
  *{@summary Initialize pointer to head of the list for iteration.}&lt;br&gt;
  *@version 1.31
  */
<span class="fc" id="L188">  public ListIterator(List&lt;T&gt; list){</span>
<span class="fc" id="L189">    current = list.getHead();</span>
<span class="fc" id="L190">  }</span>

<span class="fc bfc" id="L192" title="All 2 branches covered.">  public boolean hasNext(){return current != null;}</span>

  /**
  *{@summary Return current content and update pointer.}&lt;br&gt;
  *@version 1.31
  */
  public T next(){
<span class="fc" id="L199">    T content = current.getContent();</span>
<span class="fc" id="L200">    current = current.getNext();</span>
<span class="fc" id="L201">    return content;</span>
  }
}
/**
*{@summary Constituent Node of the Linked List}&lt;br&gt;
*@version 1.41
*@author Hydrolien
*/
class Node&lt;T&gt; {
  private T content;
  private Node&lt;T&gt; next;
  /**
  *{@summary Main constructor for Node.}&lt;br&gt;
  *@version 1.31
  */
<span class="fc" id="L216">  public Node(T content, Node&lt;T&gt; next){</span>
<span class="fc" id="L217">      this.content = content;</span>
<span class="fc" id="L218">      this.next = next;</span>
<span class="fc" id="L219">  }</span>
  // GET SET -------------------------------------------------------------------
<span class="fc" id="L221">  public T getContent(){return content;}</span>
<span class="nc" id="L222">  public void setContent(T content){this.content = content;}</span>
<span class="fc" id="L223">  public Node&lt;T&gt; getNext(){return next;}</span>
<span class="fc" id="L224">  public void setNext(Node&lt;T&gt; next){this.next = next;}</span>
  // FUNCTIONS -----------------------------------------------------------------
  /**
  *{@summary Equals function that also test next.}&lt;br&gt;
  *@version 1.41
  */
  @Override
  @SuppressWarnings(&quot;unchecked&quot;)
  public boolean equals(Object o){
<span class="pc bpc" id="L233" title="1 of 2 branches missed.">    if(o==null){return false;}</span>
<span class="pc bpc" id="L234" title="1 of 2 branches missed.">    if(o instanceof Node){</span>
      try {
<span class="fc" id="L236">        Node&lt;T&gt; node = (Node&lt;T&gt;)o;</span>
<span class="pc bpc" id="L237" title="1 of 2 branches missed.">        if(getContent().equals(node.getContent())){</span>
<span class="pc bpc" id="L238" title="1 of 4 branches missed.">          if(getNext()==null &amp;&amp; node.getNext()==null){return true;}</span>
<span class="pc bpc" id="L239" title="1 of 4 branches missed.">          if(getNext()==null || node.getNext()==null){return false;}</span>
<span class="fc" id="L240">          return getNext().equals(node.getNext());</span>
        }
<span class="nc" id="L242">      }catch (Exception e) {}</span>
    }
<span class="nc" id="L244">    return false;</span>
  }
  /**
  *{@summary Delete the 1a t element}&lt;br&gt;
  *@param t the element to remove.
  *@return true if it have been remove
  *@version 1.41
  */
  public boolean remove(T t){
<span class="nc bnc" id="L253" title="All 2 branches missed.">    if(getNext() == null){return false;}</span>
<span class="nc bnc" id="L254" title="All 2 branches missed.">    if(getNext().getContent().equals(t)){</span>
<span class="nc" id="L255">      next = getNext().getNext();//go over the element.</span>
<span class="nc" id="L256">      return true;</span>
    }
<span class="nc" id="L258">    return getNext().remove(t);</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>