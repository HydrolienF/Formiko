<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Main.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Formiko</a> &gt; <a href="index.source.html" class="el_package">fr.formiko.formiko</a> &gt; <span class="el_source">Main.java</span></div><h1>Main.java</h1><pre class="source lang-java linenums">package fr.formiko.formiko;

import fr.formiko.usuel.*;
import fr.formiko.usuel.images.*;
import fr.formiko.usuel.listes.*;
import fr.formiko.usuel.maths.math;
import fr.formiko.usuel.types.str;
import fr.formiko.views.View;
import fr.formiko.views.ViewCLI;
import fr.formiko.views.ViewNull;
import fr.formiko.views.gui2d.*;

import java.awt.Font;
import java.io.File;
import java.time.LocalDateTime;
import java.util.HashMap;

/**
*{@summary Launch class }&lt;br&gt;
*Main file have all the shortcut on getter or setter that are curently used
*@author Hydrolien
*@version 1.38
*/

/*
Les descriptions sont de la forme si dessu avec la premiere phrase décris la class ou la fonction ou meme la variable.
phrase courte.
utiliser &quot;it&quot; ou &quot;elle&quot; pour expliquer le fonctionnement d'une class ou méthode.(Ou juste la 3a personne du sigulier &quot;Return true if...&quot;)
détailler le focntionnement des méthodes.
penser a indiquer @param et @return sauf si il n'y en a pas.
on peu utiliser des balistes html dans les commentaires. La plus utile étant &lt;br&gt;
*/

<span class="nc" id="L34">public class Main {</span>
  /***
  *{@summary The compatible version for the options file, keys and backups.}
  *@version 1.1
  */
<span class="fc" id="L39">  private static String versionActuelle = &quot;1.33&quot;;</span>
  private static Options op;
  private static Chrono ch;
  private static long lon;
  private static long lonTotal;
  private static long tempsDeDébutDeJeu;
  private static Partie pa;
<span class="fc" id="L46">  private static byte niveauDeDétailDeLAffichage=3;</span>
  private static Pixel pi;
  private static HashMap&lt;String, Integer&gt; key; //keyboard key.
  private static boolean ecouteClavier;
  private static int avancementChargement;
<span class="fc" id="L51">  private static boolean affGraine=true;//tant que les espece granivore ne sont pas pleinement opérationelle.</span>
  private static Temps tem;
  //private static ThGraphisme tg;//actualise la fenetre tt avec 20 seconde de pause entre chaque actualisation.
  private static boolean retournerAuMenu;
  private static Os os;
  private static Folder folder;
<span class="fc" id="L57">  private static boolean tuto=false;</span>
  private static ThScript ths;
  //private static ThMusique thm;
<span class="fc" id="L60">  private static boolean premierePartie=false;</span>
  private static Data data;
  private static View view;

<span class="fc" id="L64">  private static boolean modeCLI=false;</span>

  /**
   * {@summary Lauch the game.}&lt;br&gt;
   * It can have some args to do special thing.&lt;br&gt;
   * -d - set on the debug mode.&lt;br&gt;
   * trad make sur that every language file is 100% translated. It can auto translate some texte if the python file and translation api are on the same folder.&lt;br&gt;
   * op save the Options.txt file&lt;br&gt;
   * Others args are not fuly usable for now.&lt;br&gt;
   * @param args[] It can contain -d, trad, son, op, test, supprimer
   * @version 1.39
   */
  public static void main (String [] args){
<span class="nc" id="L77">    debug.setAffLesEtapesDeRésolution(false);</span>
<span class="nc" id="L78">    debug.setAffLesPerformances(false);</span>
<span class="nc" id="L79">    debug.setAffG(false);</span>
<span class="nc" id="L80">    int k=0;</span>
<span class="nc bnc" id="L81" title="All 2 branches missed.">    while(args.length &gt; k){//si il y a des options a &quot;-&quot;</span>
<span class="nc bnc" id="L82" title="All 4 branches missed.">      if(args[k].length()&gt;1 &amp;&amp; args[k].substring(0,1).equals(&quot;-&quot;)){</span>
<span class="nc" id="L83">        launchOptions(args[k].substring(1));</span>
<span class="nc" id="L84">        args = tableau.retirer(args, k);</span>
      }else{
<span class="nc" id="L86">        k++;</span>
      }
    }
<span class="nc bnc" id="L89" title="All 2 branches missed.">    if(args.length&gt;0){</span>
<span class="nc bnc" id="L90" title="All 2 branches missed.">      if(args[0].equals(&quot;trad&quot;)){</span>
<span class="nc" id="L91">        initialisation();</span>
<span class="nc bnc" id="L92" title="All 2 branches missed.">        if(args.length&gt;0){</span>
<span class="nc" id="L93">          tradCmd(args[1]);</span>
        }else{
<span class="nc" id="L95">          tradCmd();</span>
        }
<span class="nc bnc" id="L97" title="All 2 branches missed.">      }else if(args[0].equals(&quot;son&quot;)){</span>
        //System.out.println(Musique.getMusiqueAlleatoire());
<span class="nc bnc" id="L99" title="All 2 branches missed.">      }else if(args[0].equals(&quot;op&quot;)){</span>
        //initialisation();
<span class="nc" id="L101">        os = new Os();</span>
<span class="nc" id="L102">        folder = new Folder();</span>
<span class="nc" id="L103">        iniOp();</span>
<span class="nc" id="L104">        op.saveOptions();</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">      }else if(args[0].equals(&quot;supprimer&quot;)){</span>
<span class="nc" id="L106">        initialisation();</span>
        //diff.nbrDeLigneDiff(&quot;usuel/GString.java&quot;,&quot;../Formiko108/usuel/GString.java&quot;);
<span class="nc bnc" id="L108" title="All 2 branches missed.">        if(args.length == 4){</span>
<span class="nc" id="L109">          String s = args[1];</span>
          //c'est pas nésséssaire sur le terminal linux mais au cas ou
<span class="nc bnc" id="L111" title="All 4 branches missed.">          if(s.charAt(0)=='&quot;' &amp;&amp; s.charAt(s.length()-1)=='&quot;'){</span>
<span class="nc" id="L112">            s = s.substring(1,s.length()-1);</span>
          }
<span class="nc" id="L114">          String f = args[2];</span>
<span class="nc" id="L115">          byte x = str.sToBy(args[3]);</span>
<span class="nc" id="L116">          modificationDeFichier.retirerLesLignesR(s,f,x);//3== ca doit etre une ligne complète.</span>
<span class="nc" id="L117">        }else{</span>
<span class="nc" id="L118">          erreur.alerte(&quot;arguments de supprimer incorecte&quot;);</span>
        }
<span class="nc bnc" id="L120" title="All 2 branches missed.">      }else if(args[0].equals(&quot;test&quot;)){</span>
<span class="nc" id="L121">        System.out.println(&quot;test&quot;);</span>
<span class="nc bnc" id="L122" title="All 2 branches missed.">      }else if(args[0].equals(&quot;trad2&quot;)){</span>
<span class="nc" id="L123">        initialisation();</span>
<span class="nc" id="L124">        chargerLesTraductions.iniTLangue();</span>
<span class="nc" id="L125">        chargerLesTraductions.créerLesFichiers();</span>
<span class="nc" id="L126">        g.setMap(chargerLesTraductions.chargerLesTraductions(1));//chargement des langues.</span>
<span class="nc" id="L127">        HashMap&lt;String, String&gt; mapEo = chargerLesTraductions.chargerLesTraductions(0);//chargement des langues.</span>
<span class="nc" id="L128">        trad.copieTradBase(&quot;eo&quot;,mapEo);</span>
        //chargerLesTraductions.addTradAuto();
<span class="nc bnc" id="L130" title="All 4 branches missed.">      }else if (args[0].equals(&quot;rbt&quot;) || args[0].equals(&quot;rognerBordTransparent&quot;)){</span>
<span class="nc" id="L131">        initialisation();</span>
        try {
<span class="nc" id="L133">          rbtCmd(args);</span>
<span class="nc" id="L134">        }catch (Exception e) {</span>
<span class="nc" id="L135">          erreur.erreur(&quot;echec de rognage de l'image&quot;);</span>
<span class="nc" id="L136">        }</span>
<span class="nc bnc" id="L137" title="All 2 branches missed.">      }else if(args[0].equals(&quot;stats&quot;)){</span>
<span class="nc" id="L138">        stats(args);</span>
<span class="nc bnc" id="L139" title="All 2 branches missed.">      }else if(args[0].equals(&quot;cptPixels&quot;)){</span>
<span class="nc bnc" id="L140" title="All 2 branches missed.">        if(args.length&gt;1){</span>
          //image.setREPTEXTUREPACK(&quot;docs/cc/images&quot;);
<span class="nc" id="L142">          debug.débogage(&quot;chargement de l'image&quot;);</span>
<span class="nc" id="L143">          Img img = new Img(image.getImage(args[1],&quot;docs/cc/images/&quot;));</span>
<span class="nc" id="L144">          debug.débogage(&quot;Image chargée&quot;);</span>
<span class="nc" id="L145">          img.compterChaquePixelToHtml();</span>
<span class="nc" id="L146">        }else{</span>
<span class="nc" id="L147">          erreur.alerte(&quot;arguments de cptPixels incorecte&quot;);</span>
        }
<span class="nc bnc" id="L149" title="All 2 branches missed.">      }else if(args[0].equals(&quot;cleanFolder&quot;)){</span>
<span class="nc" id="L150">        folder = new Folder();</span>
<span class="nc" id="L151">        folder.cleanFolder();</span>
      }else{
<span class="nc" id="L153">        erreur.erreur(&quot;Votre options a &quot;+(args.length)+&quot; agruments n'as pas été reconnue&quot;);</span>
      }
<span class="nc" id="L155">      quitter();</span>
    }else{ // si il n'y a pas d'options ou que des options a &quot;-&quot;.
      // LE JEU -------------------------------------------------------------------
<span class="nc" id="L158">      boolean continuerJeu=true;</span>
<span class="nc bnc" id="L159" title="All 2 branches missed.">      while(continuerJeu){</span>
<span class="nc" id="L160">        continuerJeu = launch();//on attend ici tant que le joueur veux jouer.</span>
<span class="nc" id="L161">        debug.débogage(&quot;ReLancement du jeu&quot;);</span>
        try {
<span class="nc" id="L163">          getF().dispose();</span>
<span class="nc" id="L164">        }catch (Exception e) {</span>
<span class="nc" id="L165">          erreur.info(&quot;Window can not be dispose.&quot;);</span>
<span class="nc" id="L166">        }</span>
<span class="nc" id="L167">        retournerAuMenu=false;</span>
        //op=null;//force la réinitialisation de tout.
<span class="nc" id="L169">        image.clearPartielTemporaire();</span>
      }
    }
<span class="nc" id="L172">    quitter();//en théorie on arrive pas là.</span>
<span class="nc" id="L173">  }</span>
  /**
   * {@summary pre launch.}&lt;br&gt;
   * @version 1.7
   */
  public static void iniLaunch(){
    //premierePartie=true;
<span class="nc bnc" id="L180" title="All 2 branches missed.">    if(premierePartie){tuto=true;}</span>
<span class="nc" id="L181">    avancementChargement=-1;</span>
    //on initialise ici si ça n'as pas déja été fait par une options.
<span class="nc bnc" id="L183" title="All 2 branches missed.">    if(getOp()==null){initialisation();}</span>
<span class="nc" id="L184">    iniCpt();</span>
<span class="nc" id="L185">    avancementChargement=0;</span>
<span class="nc" id="L186">    ecouteClavier=true;</span>

<span class="nc" id="L188">    startCh();</span>
<span class="nc" id="L189">    pa = new Partie(0,0,new Carte(new GCase(1,1)),1.0); //nouvelle partie vide.</span>
<span class="nc" id="L190">    endCh(&quot;chargementPartieEtCarteBlanche&quot;);</span>
<span class="nc" id="L191">  }</span>
  /**
   * {@summary Launch in the void main if there is not other args than -something (ex : -d).}&lt;br&gt;
   * @version 1.42
   */
  public static boolean launch(){
<span class="nc" id="L197">    iniLaunch();</span>
    //===
<span class="nc bnc" id="L199" title="All 2 branches missed.">    if (modeCLI) {</span>
<span class="nc" id="L200">      view = new ViewCLI();</span>
    }else{
<span class="nc" id="L202">      view = new ViewGUI2d();</span>
    }
<span class="nc" id="L204">    view.ini();</span>
<span class="nc" id="L205">    view.menuMain();</span>
<span class="nc bnc" id="L206" title="All 2 branches missed.">    if (modeCLI) {quitter();} //TODO menuMain sould call all functions so we sould be able to stop here.</span>
<span class="nc" id="L207">    pa = attenteDeLancementDePartie();</span>
<span class="nc" id="L208">    lancementNouvellePartie();</span>
<span class="nc" id="L209">    Boolean b = pa.jeu(); //lance le jeux.</span>
    //===
<span class="nc bnc" id="L211" title="All 2 branches missed.">    if(b){return true;}</span>
<span class="nc" id="L212">    return false;</span>
  }
  /**
   * {@summary Wait until player launch a new game, the tutorial or Load a game.}&lt;br&gt;
   * @version 1.7
   */
  public static Partie attenteDeLancementDePartie(){
    //attente
<span class="nc" id="L220">    debug.débogage(&quot;attente de lancement de la partie&quot;);</span>
<span class="nc" id="L221">    repaint();</span>
<span class="nc" id="L222">    boolean b=false;</span>
<span class="nc bnc" id="L223" title="All 4 branches missed.">    while(!b &amp;&amp; !premierePartie){Temps.pause(10);b=getPm().getLancer();}</span>
<span class="nc" id="L224">    return action.getPartie();</span>
    //debug.débogage(&quot;lancementNouvellePartie&quot;);
  }
  /**
   * {@summary Launch a new game.}&lt;br&gt;
   * @version 1.14
   */
  public static void lancementNouvellePartie(){ //Nouveau système de lancement de partie :
<span class="nc" id="L232">    startCh();</span>
<span class="nc" id="L233">    getPp().removePm();//on retire le menu</span>
<span class="nc" id="L234">    endCh(&quot;chargementPanneauChargementEtSuppressionMenu&quot;);//startCh();</span>
<span class="nc bnc" id="L235" title="All 4 branches missed.">    if(premierePartie){tuto=true;} if(tuto){pa=Partie.getPartieTuto();}</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">    else if(pa==null){pa=Partie.getDefautlPartie();}</span>
<span class="nc" id="L237">    getPj().addPch();//on met le panneau de chargement au 1a plan.</span>
<span class="nc" id="L238">    getF().printAll(getF().getGraphics());</span>
    //endCh(&quot;chargementDézoom&quot;);
    //pa.setEnCours(true); //lance l'affichage de la Partie.
    //startCh();
    //la ligne qui suis n'as d'effet que si elle n'as pas déjà été appliqué a la partie.
<span class="nc" id="L243">    pa.initialisationElément(); // pour l'instant ce bout de code ne marche pas ayeur qu'ici.</span>
<span class="nc" id="L244">    startCh();</span>
<span class="nc" id="L245">    Main.getPb().addPz();</span>
<span class="nc" id="L246">    endCh(&quot;ajoutPanneauZoom&quot;);startCh();</span>
<span class="nc" id="L247">    getData().chargerImages(); //on a besoin du bon zoom pour effectuer cette action.</span>
<span class="nc bnc" id="L248" title="All 4 branches missed.">    if(Main.getDimY()!=1080 || getPartie().getGc().getNbrY()!=9){</span>
<span class="nc" id="L249">      getPj().dézoomer((byte)2);//on met la carte a la taille la plus grande possible pour qu'on voit tout.</span>
    }
<span class="nc" id="L251">    endCh(&quot;chargementImagesDelaCarte&quot;);</span>
<span class="nc" id="L252">    String s = g.get(&quot;chargementFini&quot;);</span>
<span class="nc bnc" id="L253" title="All 2 branches missed.">    if (debug.getAffLesPerformances()==true){s=s +&quot; &quot;+ &quot;(&quot;+Temps.msToS(lonTotal)+&quot;)&quot;;}</span>
<span class="nc" id="L254">    setMessageChargement(s);</span>
<span class="nc" id="L255">    getPch().addBt();</span>
    //affichageDeLaPageDeChargement
<span class="nc bnc" id="L257" title="All 2 branches missed.">    boolean b=!op.getAttendreAprèsLeChargementDeLaCarte();</span>
<span class="nc bnc" id="L258" title="All 2 branches missed.">    if(premierePartie){b=true;}</span>
    //attente de validation du panneau de chargement.
<span class="nc bnc" id="L260" title="All 2 branches missed.">    while(!b){Temps.pause(10);b=getPch().getLancer();}</span>
<span class="nc" id="L261">    view.actionGame();</span>
<span class="nc" id="L262">    getPj().removePch();</span>
<span class="nc" id="L263">    getPs().construire();</span>
<span class="nc" id="L264">    getGj().prendreEnCompteLaDifficulté();</span>
<span class="nc bnc" id="L265" title="All 2 branches missed.">    if(premierePartie){tuto=true;}</span>
<span class="nc bnc" id="L266" title="All 2 branches missed.">    if(tuto){iniParamètreCarteTuto();}</span>
    /*else{//si ce n'est pas le tuto on change la musique.
      thm.stopThm();
      thm = new ThMusique();
      thm.start();
    }*/
<span class="nc" id="L272">  }</span>
  /**
   * {@summary Initializes the tutorial parameters.}&lt;br&gt;
   * @version 1.1
   */
  public static void iniParamètreCarteTuto(){
<span class="nc" id="L278">    Fourmiliere fere = Main.getGj().getDébut().getContenu().getFere();</span>
<span class="nc" id="L279">    CCase ccIni = Main.getPartie().getGc().getCCase(0,1);</span>
<span class="nc" id="L280">    fere.setCc(ccIni);</span>
<span class="nc" id="L281">    fere.getGc().getDébut().getContenu().setCCase(ccIni);</span>
<span class="nc" id="L282">    Insecte i = new Insecte(Main.getPartie().getGc().getCCase(1,1),0,100,0);</span>
<span class="nc" id="L283">    i.setNourritureFournie(200);</span>
<span class="nc" id="L284">    i.setEstMort(false);</span>
<span class="nc" id="L285">    i.setType(8);</span>
<span class="nc" id="L286">    getGi().addInsecte(i);</span>
<span class="nc" id="L287">    ths = new ThScript(&quot;tuto.formiko&quot;);</span>
<span class="nc" id="L288">    ths.start();</span>
<span class="nc" id="L289">  }</span>
  /**
   * Allow the player to get back to main menu.
   * @version 1.1
   */
  public static void retourAuMenu(){
<span class="nc" id="L295">    Carte mapo = new Carte(new GCase(1,1));</span>
<span class="nc" id="L296">    pa = new Partie(0,0,mapo,1.0); //nouvelle partie vide.</span>
<span class="nc" id="L297">    debug.débogage(&quot;lancement du retour au menu&quot;);</span>
<span class="nc" id="L298">    Main.getPp().removePj();</span>
    //Main.getPp().removePm();
<span class="nc" id="L300">    ini.initialiserToutLesPaneauxVide();</span>
<span class="nc" id="L301">    ini.initialiserPanneauJeuEtDépendance();</span>
<span class="nc" id="L302">    getPm().construitPanneauMenu(3);</span>
<span class="nc" id="L303">    repaint();</span>
<span class="nc" id="L304">    debug.débogage(&quot;fin du retour au menu&quot;);</span>
<span class="nc" id="L305">    attenteDeLancementDePartie();</span>
<span class="nc" id="L306">  }</span>

  // GET SET ----------------------------------------------------------
<span class="nc" id="L309">  public static byte getNiveauDeDétailDeLAffichage(){return niveauDeDétailDeLAffichage;}</span>
<span class="fc" id="L310">  public static String getVersionActuelle(){return versionActuelle;}</span>
<span class="nc" id="L311">  public static Espece getEspece(){return getEspeceParId(0);}</span>
<span class="fc" id="L312">  public static Espece getEspeceParId(int id){ return getGe().getEspeceParId(id);}</span>
<span class="fc" id="L313">  public static GEspece getGEspece(){ return getGe();}</span>
<span class="fc" id="L314">  public static Joueur getJoueurParId(int id){ return Main.getGj().getJoueurParId(id);}</span>
<span class="nc" id="L315">  public static Fourmiliere getFourmiliereParId(int id){ return getJoueurParId(id).getFere();}</span>
<span class="pc" id="L316">  public static Fenetre getF(){ try {return ((ViewGUI2d)view).getF();} catch (Exception e) {return null;}}</span>
<span class="fc" id="L317">  public static Options getOp(){return op;}</span>
<span class="nc" id="L318">  public static Chrono getCh(){ return ch;}</span>
<span class="nc bnc" id="L319" title="All 2 branches missed.">  public static int getKey(String clé){ int r = key.get(clé);if(r==-1){return -1;}return r; }</span>
<span class="fc" id="L320">  public static Partie getPartie(){ return pa;}</span>
<span class="fc" id="L321">  public static void setPartie(Partie p){pa=p;}</span>
<span class="nc" id="L322">  public static Pixel getPiFond(){ return pi;}</span>
<span class="nc" id="L323">  public static boolean getEcouteClavier(){ return ecouteClavier;}</span>
<span class="nc" id="L324">  public static void setEcouteClavier(Boolean b){ecouteClavier=b;}</span>
<span class="nc" id="L325">  public static int getAvancementChargement(){ return avancementChargement;}</span>
<span class="nc" id="L326">  public static void setAvancementChargement(int x){avancementChargement=x;}</span>
<span class="nc" id="L327">  public static boolean getAffGraine(){return affGraine;}</span>
<span class="nc" id="L328">  public static Temps getTemps(){ return tem;}</span>
<span class="nc" id="L329">  public static boolean getRetournerAuMenu(){return retournerAuMenu;}</span>
<span class="nc" id="L330">  public static void setRetournerAuMenu(boolean b){retournerAuMenu=b;}</span>
<span class="fc" id="L331">  public static Os getOs(){return os;}</span>
<span class="fc" id="L332">  public static void setOs(Os o){os=o;}</span>
<span class="fc" id="L333">  public static Folder getFolder(){return folder;}</span>
<span class="fc" id="L334">  public static void setFolder(Folder f){folder=f;}</span>
<span class="nc" id="L335">  public static void setTuto(boolean b){tuto=b;}</span>
<span class="nc" id="L336">  public static boolean getPremierePartie(){return premierePartie;}</span>
<span class="nc" id="L337">  public static void setPremierePartie(boolean b){premierePartie=b;}</span>
<span class="nc" id="L338">  public static Data getData(){return data;}</span>
<span class="fc" id="L339">  public static View getView(){return view;}</span>
  //shortcut
  //view
<span class="nc" id="L342">  public static boolean getActionGameOn(){return getView().getActionGameOn();}</span>
  //other
<span class="nc bnc" id="L344" title="All 2 branches missed.">  public static boolean estWindows(){return os.getId()==1;}</span>
<span class="nc" id="L345">  public static String get(String clé){ return g.get(clé);}</span>
<span class="nc" id="L346">  public static Script getScript(){return ths.getScript();}</span>
  //musique
  /*public static ThMusique getThm(){return thm;}
  public static Musique getMusique(){return getThm().getM();}
  public static void setMusique(Musique m){getThm().setM(m);}
  public static void setMusiqueSuivante(){getThm().setM();}*/
  //graphique
<span class="nc" id="L353">  public static PanneauPrincipal getPp(){ return getF().getPp();}</span>
<span class="nc" id="L354">  public static void repaint(){view.paint();}</span>
  //public static synchronized void repaint(){try { f.paintAll(f.getGraphics());}catch (Exception e) {}}
<span class="nc" id="L356">  public static PanneauJeu getPj(){ return getPp().getPj();}</span>
<span class="nc" id="L357">  public static PanneauMenu getPm(){ return getPp().getPm();}</span>
<span class="nc" id="L358">  public static PanneauNouvellePartie getPnp(){ return getPm().getPnp();}</span>
<span class="nc" id="L359">  public static PanneauBouton getPb(){ return getPj().getPb();}</span>
<span class="nc" id="L360">  public static PanneauCarte getPc(){ return getPj().getPc();}</span>
<span class="nc" id="L361">  public static PanneauInfo getPi(){ return getPb().getPi();}</span>
<span class="nc" id="L362">  public static PanneauZoom getPz(){ return getPb().getPz();}</span>
<span class="nc" id="L363">  public static PanneauAction getPa(){ return getPb().getPa();}public static PanneauAction getPac(){return getPa();}</span>
<span class="pc" id="L364">  public static Fourmi getPlayingAnt(){ try {return getPartie().getPlayingAnt();}catch (Exception e) {return null;}}</span>
<span class="fc" id="L365">  public static void setPlayingAnt(Fourmi f){ getPartie().setPlayingAnt(f);}</span>
<span class="pc" id="L366">  public static Joueur getPlayingJoueur(){ try {return getPartie().getPlayingJoueur();}catch (Exception e) {return null;}}</span>
<span class="pc" id="L367">  public static PanneauChargement getPch(){ try {return getPj().getPch();}catch (Exception e) {return null;}}</span>
<span class="pc" id="L368">  public static PanneauSup getPs(){ try {return getPj().getPs();}catch (Exception e) {return null;}}</span>
<span class="nc" id="L369">  public static PanneauEchap getPe(){ return getPj().getPe();}</span>
<span class="nc" id="L370">  public static PanneauDialogue getPd(){ try {return getPj().getPd();}catch (Exception e) {return null;}}</span>
<span class="nc" id="L371">  public static PanneauDialogueInf getPdi(){ return getPj().getPdi();}</span>
<span class="nc" id="L372">  public static int getDimX(){ try {return getPp().getWidth();}catch (Exception e){erreur.erreur(&quot;Impossible de récupérer les dim de Pp&quot;);return 1;}}</span>
<span class="nc" id="L373">  public static int getDimY(){ try {return getPp().getHeight();}catch (Exception e){erreur.erreur(&quot;Impossible de récupérer les dim de Pp&quot;);return 1;}}</span>
<span class="nc" id="L374">  public static int getWidth(){return getDimX();}</span>
<span class="nc" id="L375">  public static int getHeight(){return getDimY();}</span>
<span class="nc" id="L376">  public static int getTailleElementGraphique(int x){ return math.min(getTailleElementGraphiqueY(x),getTailleElementGraphiqueX(x));}</span>
<span class="nc" id="L377">  public static int getTailleElementGraphiqueX(int x){ return (x*getDimX())/1920;}</span>
<span class="nc" id="L378">  public static int getTailleElementGraphiqueY(int x){ return (x*getDimY())/1080;}</span>
<span class="nc" id="L379">  public static double getRacioEspaceLibre(){return 900.0/1080.0;}</span>
<span class="nc" id="L380">  public static int getDimXCarte(){System.out.println(getRacioEspaceLibre());return (int)(1920.0*getRacioEspaceLibre());}</span>
  //options
<span class="fc" id="L382">  public static byte getLanguage(){ return op.getLanguage();}</span>
<span class="fc" id="L383">  public static void setLangue(int x){ op.setLangue(x);iniLangue();}</span>
<span class="nc" id="L384">  public static int getbuttonSizeZoom(){return op.getbuttonSizeZoom();}</span>
<span class="nc" id="L385">  public static int getTailleBoutonAction(){return op.getTailleBoutonAction();}</span>
<span class="nc" id="L386">  public static int getTailleBoutonTX(){return op.getTailleBoutonTX();}</span>
<span class="nc" id="L387">  public static boolean getMouvementRapide(){ return op.getMouvementRapide();}</span>
<span class="nc" id="L388">  public static void setMouvementRapide(boolean b){ op.setMouvementRapide(b);}</span>
<span class="nc" id="L389">  public static int getNbrMessageAfficher(){ return op.getNbrMessageAfficher();}</span>
<span class="nc" id="L390">  public static boolean getDessinerGrille(){ return op.getDessinerGrille();}</span>
<span class="fc" id="L391">  public static boolean getElementSurCarteOrientéAprèsDéplacement(){ return op.getElementSurCarteOrientéAprèsDéplacement();}</span>
<span class="nc" id="L392">  public static boolean getForcerQuitter(){ return op.getForcerQuitter();}</span>
<span class="nc" id="L393">  public static byte getBordureBouton(){ return op.getBordureBouton();}</span>
<span class="nc" id="L394">  public static boolean getDessinerIcone(){return op.getDessinerIcone();}</span>
<span class="nc" id="L395">  public static Font getFont1(){ return op.getFont1();}</span>
<span class="nc" id="L396">  public static Font getFont1(double d){ return op.getFont1(d);}</span>
<span class="nc" id="L397">  public static void setFont1(Font f){ op.setFont1(f);}</span>
<span class="nc" id="L398">  public static Font getFont2(){ return op.getFont2();}</span>
<span class="nc" id="L399">  public static void setFont2(Font f){ op.setFont2(f);}</span>
<span class="nc" id="L400">  public static int getTaillePolice1(){ return op.getTaillePolice1();}</span>
<span class="nc" id="L401">  public static int getTaillePolice2(){ return op.getTaillePolice2();}</span>
<span class="nc" id="L402">  public static boolean getPleinEcran(){ return op.getPleinEcran();}</span>
<span class="nc" id="L403">  public static boolean getChargementPendantLesMenu(){ return op.getChargementPendantLesMenu();}</span>
<span class="nc" id="L404">  public static boolean getGarderLesGraphismesTourné(){ return op.getGarderLesGraphismesTourné();}</span>
<span class="nc" id="L405">  public static int getDimLigne(){return op.getDimLigne();}</span>
<span class="nc" id="L406">  public static int getPositionCase(){return op.getPositionCase();}</span>
<span class="nc" id="L407">  public static byte getTailleRealiste(){return op.getTailleRealiste();}</span>
  //partie
<span class="fc" id="L409">  public static GInsecte getGi(){return pa.getGi();}</span>
<span class="nc" id="L410">  public static GJoueur getListeJoueur(){return pa.getGj();}</span>
<span class="fc" id="L411">  public static GJoueur getGj(){return pa.getGj();}</span>
<span class="pc bpc" id="L412" title="1 of 2 branches missed.">  public static GCase getGc(){if(getPartie()==null){return null;}return getPartie().getGc();}</span>
<span class="pc bpc" id="L413" title="1 of 2 branches missed.">  public static CCase getCCase(int x, int y){if(getGc()==null){return null;}return getGc().getCCase(x,y);}</span>
<span class="nc" id="L414">  public static void setNbrDeTour(int x){pa.setNbrDeTour(x);}</span>
<span class="nc" id="L415">  public static void setTour(int x){pa.setTour(x);}</span>
<span class="nc" id="L416">  public static int getNbrDeTour(){return pa.getNbrDeTour();}</span>
<span class="fc" id="L417">  public static int getTour(){return pa.getTour();}</span>
<span class="fc" id="L418">  public static byte getDifficulté(){return pa.getDifficulté();}</span>
<span class="fc" id="L419">  public static void setDifficulté(byte x){pa.setDifficulté(x);}</span>
<span class="fc" id="L420">  public static void setDifficulté(int x){setDifficulté((byte)x);}</span>
<span class="nc" id="L421">  public static LocalDateTime getDateDeCréation(){return pa.getDateDeCréation();}</span>
<span class="fc" id="L422">  public static int [] getTableauDesEspecesAutorisée(){ return pa.getTableauDesEspecesAutorisée();}</span>
<span class="nc" id="L423">  public static int getNbrDeJoueur(){ return pa.getNbrDeJoueurDansLaPartie();}</span>
<span class="fc" id="L424">  public static Carte getMap(){ return pa.getCarte();}</span>
<span class="fc" id="L425">  public static Carte getCarte(){ return getMap();}</span>
<span class="fc" id="L426">  public static double getVitesseDeJeu(){return pa.getVitesseDeJeu();}</span>
<span class="fc" id="L427">  public static GEspece getGe(){return pa.getGe();}</span>
  //ini
<span class="nc" id="L429">  public static void initialiserElémentTournés(){ ini.initialiserElémentTournés();}</span>
<span class="nc" id="L430">  public static void initialiserAutreELémentTournés(){ ini.initialiserAutreELémentTournés();}</span>
  // Fonctions propre -------------------------------------------------
  /**
   * Initializes Options, key, language, time data, musique, os value. And check the integrity of the file tree.
   * @version 1.1
   */
  public static void initialisation(){
<span class="fc" id="L437">    tempsDeDébutDeJeu=System.currentTimeMillis();</span>
<span class="fc" id="L438">    os = new Os();</span>
<span class="fc" id="L439">    folder = new Folder();</span>
<span class="fc" id="L440">    getFolder().ini();</span>
<span class="fc" id="L441">    view = new ViewNull();</span>
    //if(!arbo.arborécenceIntacte()){arbo.réparationArboréscence();}
<span class="fc" id="L443">    setMessageChargement(&quot;chargementDesOptions&quot;);startCh();</span>
<span class="fc" id="L444">    chargerLesTraductions.iniTLangue();</span>
<span class="fc" id="L445">    iniOp();</span>
<span class="fc" id="L446">    sauvegarderUnePartie.setSave(Save.getSave());</span>
<span class="pc bpc" id="L447" title="1 of 2 branches missed.">    if(!debug.getAffLesEtapesDeRésolution()){//si elle n'ont pas été activé par &quot;-d&quot;</span>
<span class="fc" id="L448">      debug.setAffLesEtapesDeRésolution(op.getAffLesEtapesDeRésolution());</span>
    }
<span class="pc bpc" id="L450" title="1 of 2 branches missed.">    if(!debug.getAffLesPerformances()){//si elle n'ont pas été activé par &quot;-p&quot;</span>
<span class="fc" id="L451">      debug.setAffLesPerformances(op.getAffLesPerformances());</span>
    }
<span class="pc bpc" id="L453" title="1 of 2 branches missed.">    if(!debug.getAffG()){//si elle n'ont pas été activé par &quot;-g&quot;</span>
<span class="fc" id="L454">      debug.setAffG(op.getAffG());</span>
    }
<span class="fc" id="L456">    endCh(&quot;chargementDesOptions&quot;);</span>
<span class="fc" id="L457">    setMessageChargement(&quot;chargementDesTouches&quot;);startCh();</span>
<span class="fc" id="L458">    key = chargerLesTouches.chargerLesTouches(getVersionActuelle());</span>
<span class="fc" id="L459">    endCh(&quot;chargementDesTouches&quot;);</span>
<span class="fc" id="L460">    setMessageChargement(&quot;chargementDesLangues&quot;);</span>
<span class="fc" id="L461">    iniLangue();</span>
<span class="fc" id="L462">    startCh();</span>
<span class="fc" id="L463">    tem = new Temps();</span>
<span class="fc" id="L464">    endCh(&quot;chargementDesDonnéesTemporelles&quot;);</span>
<span class="fc" id="L465">    setMessageChargement(&quot;chargementDesEspeceDeFourmi&quot;);startCh();</span>
<span class="fc" id="L466">    Partie.iniGe(); // chargement des Especes.</span>
<span class="fc" id="L467">    GIndividu.chargerLesIndividus(); // chargement de leur individu.</span>
<span class="fc" id="L468">    endCh(&quot;chargementDesIndividuDeFourmi&quot;);startCh();</span>
<span class="fc" id="L469">    Insecte.setGie(); // chargement des Insectes.</span>
<span class="fc" id="L470">    endCh(&quot;chargementDesEspeceDInsecte&quot;);</span>
<span class="fc" id="L471">    data = new Data();</span>
<span class="fc" id="L472">    iniCpt();</span>
<span class="fc" id="L473">  }</span>
  /**
   *{@summary Initializes counter cpt of IEspece, Joueur, Fourmiliere ,ObjetAId.}
   *@version 1.7
   */
  public static void iniCpt(){
<span class="fc" id="L479">    IEspece.ini();</span>
<span class="fc" id="L480">    Joueur.ini();</span>
<span class="fc" id="L481">    Fourmiliere.ini();</span>
<span class="fc" id="L482">    ObjetAId.ini();</span>
<span class="fc" id="L483">  }</span>
  /**
   * Load Options.
   * @version 1.1
   */
  public static void iniOp(){
    //TODO
    //op = chargerLesOptions.chargerLesOptions(getVersionActuelle());
<span class="fc" id="L491">    op = new Options();</span>
<span class="fc" id="L492">    op.iniOptions();</span>
<span class="fc" id="L493">  }</span>
  /**
   * Load language.
   * @version 1.1
   */
  public static void iniLangue(){
<span class="fc" id="L499">    startCh();</span>
<span class="fc" id="L500">    HashMap&lt;String,String&gt; hm = chargerLesTraductions.chargerLesTraductions(getLanguage());</span>
<span class="fc" id="L501">    g.setMap(hm);</span>
<span class="pc bpc" id="L502" title="1 of 2 branches missed.">    if(getLanguage()&gt;2){ //language 0,1 &amp; 2 are full translated.</span>
<span class="nc" id="L503">      chargerLesTraductions.completMapWithFullTranslatedLanguage();</span>
    }
<span class="fc" id="L505">    endCh(&quot;chargementDesLangues&quot;);</span>
<span class="fc" id="L506">  }</span>
  /**
   * {@summary Print on the window a message about game loading.}&lt;br&gt;
   * If you tried to use it before the creating of a new PanneauChargement, message will not appear on the window.
   * @version 1.14
   */
  public static void setMessageChargement(String s){
    //s c'est un truc du genre &quot;chargementDesLangues&quot;
<span class="fc" id="L514">    String s2 = g.getM(s)+&quot;...&quot;; //g.getM() permet d'aller chercher la traduction dans la table de hachage HashMap&lt;String, String&gt; map.</span>
    try {
<span class="nc" id="L516">      getPch().setTexte(s2); //envoie a la fenetre le message d'avancement du chargement.</span>
<span class="fc" id="L517">    }catch (Exception e) { // si quelque chose ce passe mal on envoie un message a la console.</span>
      //erreur.alerte(&quot;Un message de chargement n'est pas arrivé a destination.&quot;);
<span class="nc" id="L519">    }</span>
<span class="fc" id="L520">  }</span>
  /**
   * Sould transforme a GCase to a Image that can be used for mini-map.&lt;br&gt;
   * @version 1.1
   */
  public static void gcToImage(){
<span class="nc" id="L526">    startCh();</span>
<span class="nc" id="L527">    Carte mapo = new Carte(&quot;miniWorld&quot;);</span>
<span class="nc" id="L528">    GCase gc = mapo.getGc();</span>
<span class="nc" id="L529">    endCh(&quot;chargementCarteEtGc&quot;);startCh();</span>
<span class="nc" id="L530">    Img img = gc.getImg();</span>
<span class="nc" id="L531">    endCh(&quot;récupérationDeLImage&quot;);startCh();</span>
<span class="nc" id="L532">    img.sauvegarder(&quot;carte.png&quot;);</span>
<span class="nc" id="L533">    endCh(&quot;sauvegardeLeLImage&quot;);</span>
    //debug.setAffLesEtapesDeRésolution(false);
<span class="nc" id="L535">  }</span>
  //chrono shortcut
<span class="fc" id="L537">  public static void startCh(){Chrono.debutCh();}</span>
<span class="fc" id="L538">  public static void endCh(String s){Chrono.endCh(s);}</span>
<span class="nc" id="L539">  public static void startCh(Chrono chTemp){Chrono.debutCh(chTemp);}</span>
  public static void endCh(String s,Chrono chTemp){ // fin du Chrono.
<span class="nc" id="L541">    lon = chTemp.getDuree(); lonTotal=lonTotal+lon;</span>
<span class="nc" id="L542">    Chrono.endCh(s,chTemp);</span>
<span class="nc" id="L543">  }</span>
  /**
   * {@summary Try to exit normally.}&lt;br&gt;
   * Save score informations.&lt;br&gt;
   * Clear temporary Images.&lt;br&gt;
   * Save time played.&lt;br&gt;
   * Stop java with code 0.&lt;br&gt;
   * If something went wrong stop java with code 1.&lt;br&gt;
   * @version 1.1
   */
  public static void quitter(){
    try {
<span class="nc" id="L555">      startCh();</span>
<span class="nc" id="L556">      pa.enregistrerLesScores();</span>
<span class="nc" id="L557">      endCh(&quot;enregistementDesScores&quot;);</span>
<span class="nc" id="L558">      startCh();</span>
<span class="nc bnc" id="L559" title="All 2 branches missed.">      if(getGarderLesGraphismesTourné()){image.clearPartielTemporaire();}</span>
<span class="nc" id="L560">      else{image.clearTemporaire();}</span>
<span class="nc" id="L561">      endCh(&quot;vidageDesFichiersImages&quot;);</span>
<span class="nc" id="L562">      String s = &quot;toutes les opérations longues &quot;;</span>
<span class="nc" id="L563">      debug.performances(&quot;temps pour &quot;+ s + &quot; : &quot;+lonTotal+&quot; ms&quot;);</span>
<span class="nc" id="L564">      long tempsDeFinDeJeu=System.currentTimeMillis();</span>
<span class="nc" id="L565">      long tempsJeuEcoulé = tempsDeFinDeJeu-tempsDeDébutDeJeu;</span>
<span class="nc" id="L566">      tem.addTempsEnJeux(tempsJeuEcoulé);tem.actualiserDate2();tem.sauvegarder();</span>
<span class="nc" id="L567">      sauvegarderUnePartie.getSave().save();//sauvegarde de l'idS (id de sauvegarde) + de futur valeur importante.</span>
<span class="nc" id="L568">      System.out.println(g.getM(&quot;tempsJeuEcoulé&quot;)+&quot; : &quot;+Temps.msToTime(tempsJeuEcoulé,2,false));</span>
<span class="nc" id="L569">      System.out.println(g.getM(&quot;messageQuitter&quot;));</span>
<span class="nc" id="L570">      System.exit(0);</span>
<span class="nc" id="L571">    }catch (Exception e) {</span>
<span class="nc" id="L572">      System.exit(1); //une erreur a la fermeture.</span>
<span class="nc" id="L573">    }</span>
<span class="nc" id="L574">  }</span>
  /**
   * {@summary Play a turn.}&lt;br&gt;
   * 1a updating Case resources.&lt;br&gt;
   * 2a Make humain player and AI play.&lt;br&gt;
   * 3a Make Insecte play.&lt;br&gt;
   * 4a Add new Insectes.&lt;br&gt;
   * @version 1.1
   */
  public static void tour(){
<span class="nc bnc" id="L584" title="All 2 branches missed.">    if(!getPartie().getContinuerLeJeu()){</span>
<span class="nc" id="L585">      return;</span>
    }
<span class="nc" id="L587">    getGc().tourCases(); //actualisation des ressources sur les cases.</span>
<span class="nc" id="L588">    getGi().preTour(); //actualisation des actions des insectes</span>
<span class="nc" id="L589">    getGj().jouer();</span>
<span class="nc" id="L590">    getGi().tourInsecte();</span>
<span class="nc bnc" id="L591" title="All 2 branches missed.">    if(Main.getPartie().getAppartionInsecte()){</span>
<span class="nc" id="L592">      int nbrDInsecteRestant = math.max( getGc().getNbrDeCase()/5 -  getGi().getGiVivant().length(),0);</span>
<span class="nc" id="L593">      int x2 = math.min( getGc().getNbrDeCase()/20, nbrDInsecteRestant);</span>
<span class="nc" id="L594">      new Message(&quot;Ajout de &quot;+x2+&quot; insectes&quot;);</span>
<span class="nc" id="L595">      getGi().addInsecte((x2*9)/10); //les insectes vivants n'apparaissent pas sur des cases déja occupé.</span>
<span class="nc" id="L596">      getGi().addInsecte(x2/10);</span>
    }
<span class="nc" id="L598">  }</span>
  /**
  *{@summary Update translation}
  *@version 1.21
  */
  public static void tradCmd(){
<span class="nc" id="L604">    startCh();</span>
<span class="nc" id="L605">    chargerLesTraductions.iniTLangue();</span>
<span class="nc" id="L606">    chargerLesTraductions.créerLesFichiers();</span>
<span class="nc" id="L607">    endCh(&quot;créerLesFichiers&quot;);startCh();</span>
<span class="nc" id="L608">    g.setMap(chargerLesTraductions.chargerLesTraductions(1));//chargement des langues.</span>
<span class="nc" id="L609">    endCh(&quot;chargerLesTraductions&quot;);startCh();</span>
<span class="nc" id="L610">    trad.copieTrads();</span>
<span class="nc" id="L611">    endCh(&quot;copieTrads&quot;);startCh();</span>
<span class="nc" id="L612">    chargerLesTraductions.affPourcentageTraduit();</span>
<span class="nc" id="L613">    endCh(&quot;affPourcentageTraduit&quot;);//startCh();</span>
    /*chargerLesTraductions.addTradAuto();
    endCh(&quot;addTradAuto&quot;);startCh();
    chargerLesTraductions.affPourcentageTraduit();
    endCh(&quot;affPourcentageTraduit&quot;);*/
<span class="nc" id="L618">  }</span>
  /**
  *{@summary Update 1 translation &amp; print it's #&amp;25;age of translation.}&lt;br&gt;
  *@version 1.42
  */
  public static void tradCmd(String language){
    // startCh();
<span class="nc" id="L625">    chargerLesTraductions.iniTLangue();</span>
<span class="nc" id="L626">    chargerLesTraductions.créerLesFichiers();</span>
<span class="nc" id="L627">    g.setMap(chargerLesTraductions.chargerLesTraductions(1));//chargement des langues.</span>
<span class="nc" id="L628">    System.out.print(chargerLesTraductions.getPourcentageTraduit(chargerLesTraductions.getLanguage(language)));</span>
<span class="nc" id="L629">  }</span>
  /**
  *{@summary trim the image from args.}
  *@version 1.21
  */
  public static void rbtCmd(String args[]){
<span class="nc" id="L635">    String name = &quot;&quot;;</span>
<span class="nc" id="L636">    name = args[1];int k=2;</span>
<span class="nc bnc" id="L637" title="All 2 branches missed.">    while(name!=null){</span>
<span class="nc" id="L638">      debug.débogage(&quot;=============================Chargement de l'image &quot;+name);</span>
      //Image i = image.getImage(nom,image.getREP());
<span class="nc" id="L640">      Img img = new Img(image.getImage(name,image.getREP()));</span>
<span class="nc" id="L641">      debug.débogage(&quot;=============================Ronage de l'image &quot;+name);</span>
<span class="nc" id="L642">      img.rognerBordTransparent();</span>
<span class="nc" id="L643">      img.actualiserImage();</span>
<span class="nc" id="L644">      debug.débogage(&quot;=============================Sauvegarde de l'image &quot;+name);</span>
<span class="nc" id="L645">      img.sauvegarder(image.getREP(),name+&quot;.png&quot;);</span>
      try {
<span class="nc" id="L647">        name=args[k++];</span>
<span class="nc" id="L648">      }catch (Exception e) {</span>
<span class="nc" id="L649">        name=null;</span>
<span class="nc" id="L650">      }</span>
<span class="nc" id="L651">    }</span>
<span class="nc" id="L652">  }</span>
  /**
  *{@summary Launch a -options.}&lt;br&gt;
  *-options affect game but launch it, when non &quot;-&quot; options never launch game.&lt;br&gt;
  *Here is the list of the aviable -options.&lt;br&gt;
  *&lt;ul&gt;
  *&lt;li&gt;-d Print all the debugs infos.
  *&lt;li&gt;-p Print performances info for long action.
  *&lt;li&gt;-g Print the graphics debugs infos.
  *&lt;li&gt;-rg Reload all the graphics saved in data/temporary/images.
  *&lt;li&gt;-cli Launch game but in Console Line Interface.
  *&lt;/ul&gt;
  *@version 1.39
  */
  private static void launchOptions(String stringOptions){
<span class="nc bnc" id="L667" title="All 7 branches missed.">    switch(stringOptions){</span>
      case &quot;q&quot;:
<span class="nc" id="L669">      erreur.setMuet(true);</span>
<span class="nc" id="L670">      break;</span>
      case &quot;d&quot;:
<span class="nc" id="L672">      debug.setAffLesEtapesDeRésolution(true);</span>
<span class="nc" id="L673">      break;</span>
      case &quot;p&quot;:
<span class="nc" id="L675">      debug.setAffLesPerformances(true);</span>
<span class="nc" id="L676">      break;</span>
      case &quot;g&quot;:
<span class="nc" id="L678">      debug.setAffG(true);</span>
<span class="nc" id="L679">      break;</span>
      case &quot;rg&quot;:
      case &quot;reload--graphics&quot;:
<span class="nc" id="L682">      initialisation();</span>
<span class="nc" id="L683">      getOp().setGarderLesGraphismesTourné(false);</span>
<span class="nc" id="L684">      break;</span>
      case &quot;cli&quot;:
<span class="nc" id="L686">      modeCLI=true;</span>
<span class="nc" id="L687">      break;</span>
      default:
<span class="nc" id="L689">      erreur.alerte(&quot;Unknow cli options : &quot;+stringOptions);</span>
    }
<span class="nc" id="L691">  }</span>
  private static void stats(String args[]){
<span class="nc" id="L693">    int valueToPrint = 0;</span>
<span class="nc bnc" id="L694" title="All 2 branches missed.">    if(args.length&gt;2){</span>
<span class="nc" id="L695">      valueToPrint=str.sToI(args[2]);</span>
    }
<span class="nc bnc" id="L697" title="All 2 branches missed.">    if(args.length&gt;1){</span>
<span class="nc" id="L698">      stats.statsJavadoc(args[1]);</span>
    }else{
<span class="nc" id="L700">      stats.statsJavadoc(&quot;src/main/&quot;,true);</span>
    }
<span class="nc bnc" id="L702" title="All 2 branches missed.">    if(valueToPrint&gt;0){</span>
<span class="nc bnc" id="L703" title="All 5 branches missed.">      String s = switch (valueToPrint) {</span>
        case 1:
<span class="nc" id="L705">        yield stats.sommeNbrDeLigneG+&quot;&quot;;</span>
        case 2:
<span class="nc" id="L707">        yield stats.sommeDesClassG+&quot;&quot;;</span>
        case 3:
<span class="nc" id="L709">        yield stats.sommeDesFctLG+&quot;&quot;;</span>
        case 4:
<span class="nc" id="L711">        yield stats.sommeDesFctCG+&quot;&quot;;</span>
        default:
<span class="nc" id="L713">        yield &quot;&quot;;</span>
      };
<span class="nc" id="L715">      System.out.println(s);</span>
    }
<span class="nc" id="L717">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>