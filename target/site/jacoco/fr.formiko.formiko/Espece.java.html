<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Espece.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Formiko</a> &gt; <a href="index.source.html" class="el_package">fr.formiko.formiko</a> &gt; <span class="el_source">Espece.java</span></div><h1>Espece.java</h1><pre class="source lang-java linenums">package fr.formiko.formiko;

import fr.formiko.formiko.Main;
import fr.formiko.usuel.debug;
import fr.formiko.usuel.decoderUnFichier;
import fr.formiko.usuel.erreur;
import fr.formiko.usuel.g;
import fr.formiko.usuel.lireUnFichier;
import fr.formiko.usuel.listes.GString;
import fr.formiko.usuel.maths.allea;
import fr.formiko.usuel.maths.math;
import fr.formiko.usuel.tableau;
import fr.formiko.usuel.types.str;

import java.io.Serializable;

public class Espece implements Serializable{
<span class="fc" id="L18">  protected static int racioTourParJour = 24; // le fichier Espece.csv contient les temps en jours. (En plus de ce racio un développement lent sera 2 fois plus long (*2 par défaut.) Un dévelloppement rapide grace a une température idéale permettra au fourmi de passer 2 tour de vie d'un seul coup.)</span>
  protected final int id; protected static int cptid;
  protected String nom;
  protected int nbrDIndividuMax;
  protected boolean polycalique; protected boolean monogyne;
  protected boolean insectivore; protected boolean granivore; protected boolean fongivore; protected boolean herbivore; protected boolean miellativore;
<span class="fc" id="L24">  protected byte tTempératureExt[] = new byte[4];</span>
<span class="fc" id="L25">  protected byte tTempératureInt[] = new byte[4];</span>
<span class="fc" id="L26">  protected byte tHumidité[] = new byte[2];</span>
<span class="fc" id="L27">  protected boolean tHabitat[] = new boolean[3];</span>
  protected byte tPropretéPerdu[];
  protected int tNourritureFournie[];
  protected int tTaille[];
  protected String note;
  protected GIndividu giu;
  protected boolean vole;

  // CONSTRUCTEUR ---------------------------------------------------------------
<span class="fc" id="L36">  public Espece(int id, String nom, int nbr,boolean polycalique, boolean monogyne, boolean insectivore, boolean granivore, boolean fongivore, boolean herbivore, boolean miellativore, byte tmin, byte tmini, byte tmaxi, byte tmax, byte tnidmin,byte tnidmini, byte tnidmaxi, byte tnidmax, byte humin, byte humax,boolean ha0, boolean ha1, boolean ha2, byte po[], int nf[], int ta[], boolean vole, String note){</span>
<span class="fc" id="L37">    this.id = id;</span>
<span class="fc" id="L38">    this.nom = nom;</span>
<span class="fc" id="L39">    nbrDIndividuMax = nbr;</span>
<span class="fc" id="L40">    this.polycalique = polycalique; this.monogyne = monogyne;</span>
<span class="fc" id="L41">    this.insectivore = insectivore; this.granivore = granivore; this.fongivore = fongivore; this.herbivore = herbivore; this.miellativore =miellativore;</span>
<span class="fc" id="L42">    tTempératureExt[0] = tmin; tTempératureExt[1] = tmini; tTempératureExt[2] = tmaxi; tTempératureExt[3] = tmax;</span>
<span class="fc" id="L43">    tTempératureInt[0] = tnidmin; tTempératureInt[1] = tnidmini; tTempératureInt[2] = tnidmaxi; tTempératureInt[3] = tnidmax;</span>
<span class="fc" id="L44">    tHumidité[0]=humax;tHumidité[1]=humin;</span>
<span class="fc" id="L45">    tHabitat[0]=ha0;tHabitat[1]=ha1;tHabitat[2]=ha2;</span>
<span class="fc" id="L46">    tPropretéPerdu=po;</span>
<span class="fc" id="L47">    tNourritureFournie=nf;</span>
<span class="fc" id="L48">    tTaille=ta;</span>
<span class="fc" id="L49">    this.vole =vole;</span>
<span class="fc" id="L50">    this.note = note;</span>
<span class="fc" id="L51">    giu = new GIndividu();</span>
<span class="fc" id="L52">  }</span>
  // GET SET --------------------------------------------------------------------
<span class="fc" id="L54">  public int getId(){ return id;}</span>
  public byte getPropretéPerdu(byte stade){ // fluctue en fonction des tour et pas en fonction des individu.
<span class="fc bfc" id="L56" title="All 2 branches covered.">    if(tPropretéPerdu[stade+3]!=0){</span>
<span class="fc" id="L57">      return (byte) allea.fluctuer(tPropretéPerdu[stade+3],20);</span>
    }else{
<span class="fc" id="L59">      return (byte) 0;</span>
    }
  }
<span class="fc" id="L62">  public boolean getInsectivore(){ return insectivore;}</span>
<span class="nc" id="L63">  public boolean getGranivore(){ return granivore;}</span>
<span class="nc" id="L64">  public boolean getFongivore(){return fongivore;}</span>
<span class="nc" id="L65">  public boolean getHerbivore(){return herbivore;}</span>
<span class="nc" id="L66">  public boolean getMiellativore(){return miellativore;}</span>
<span class="nc" id="L67">  public int getNbrDIndividuMax(){ return nbrDIndividuMax;}</span>
<span class="fc" id="L68">  public GIndividu getGIndividu(){ return giu;}</span>
<span class="nc" id="L69">  public void setGIndividu(GIndividu giu){ this.giu = giu;}</span>
<span class="nc" id="L70">  public int [] getTypeDIndividu(){ return giu.getTypeDIndividu();}</span>
<span class="fc" id="L71">  public Individu getIndividuParType(int typeF){ return giu.getIndividuParType(typeF);}</span>
  public String getNom(){
<span class="pc bpc" id="L73" title="1 of 2 branches missed.">    if(nom.equals(&quot;x&quot;)){return &quot;&quot;+getId();}</span>
<span class="fc" id="L74">    return nom;</span>
  }
<span class="fc" id="L76">  public boolean getPolycalique(){return polycalique;}</span>
<span class="nc" id="L77">  public void setPolycalique(boolean b){polycalique=b;}</span>
<span class="nc" id="L78">  public boolean getVole(){return vole;}//seule les imagos chez les insectes et spécifiquement les individu de type 0 ou 1 chez les fourmi vole.</span>
<span class="pc bpc" id="L79" title="2 of 4 branches missed.">  public int getNourritureFournie(byte stade){if(stade&lt;-3 || stade &gt; 0){erreur.erreur(&quot;nourritureFournie demande un stade entre -3 et 0 hors le stade est de &quot;+stade); return -1;}</span>
<span class="fc" id="L80">    return allea.fluctuer(tNourritureFournie[stade+3]);}//-3 = case 0. 0 = case 3.</span>
<span class="nc bnc" id="L81" title="All 4 branches missed.">  public int getTaille(byte stade){if(stade&lt;-3 || stade &gt; 0){erreur.erreur(&quot;getTaille demande un stade entre -3 et 0 hors le stade est de &quot;+stade); return -1;}</span>
<span class="nc" id="L82">    return tTaille[stade+3];}</span>
<span class="nc" id="L83">  public int getTaille(int stade){return getTaille(str.iToBy(stade));}</span>
  // Fonctions propre -----------------------------------------------------------
  public String toString(){
<span class="fc" id="L86">    String r = &quot;&quot;;</span>
<span class="fc" id="L87">    String finLigne = &quot;\n&quot;;</span>
<span class="fc" id="L88">    r+=descriptionF();r+=&quot;\n&quot;;</span>
<span class="fc" id="L89">    r+=&quot;tTempératureExt : &quot;;</span>
<span class="fc" id="L90">    r+=tableau.tableauToString(tTempératureExt,&quot;,&quot;);r+=finLigne;</span>
<span class="fc" id="L91">    r+=&quot;tTempératureInt : &quot;;</span>
<span class="fc" id="L92">    r+=tableau.tableauToString(tTempératureInt,&quot;,&quot;);r+=finLigne;</span>
<span class="fc" id="L93">    r+=&quot;tHumidité : &quot;;</span>
<span class="fc" id="L94">    r+=tableau.tableauToString(tHumidité,&quot;,&quot;);r+=finLigne;</span>
<span class="fc" id="L95">    r+=&quot;tHabitat : &quot;;</span>
<span class="fc" id="L96">    r+=tableau.tableauToString(tHabitat,&quot;,&quot;);r+=finLigne;</span>
<span class="fc" id="L97">    r+=&quot;propretéPerdu : &quot;;</span>
<span class="fc" id="L98">    r+=tableau.tableauToString(tPropretéPerdu,&quot;,&quot;);r+=&quot;\n&quot;;</span>
<span class="fc" id="L99">    r+=&quot;nourritureFournie : &quot;;</span>
<span class="fc" id="L100">    r+=tableau.tableauToString(tNourritureFournie,&quot;,&quot;);r+=&quot;\n&quot;;</span>
<span class="fc" id="L101">    r+=giu.toString();r+=&quot;\n&quot;;</span>
<span class="fc" id="L102">    r+=&quot;Note : &quot;+note;r+=&quot;\n&quot;;</span>
<span class="fc" id="L103">    return r;</span>
  }
  public String descriptionF(){
    // pour l'instant ne sont prise en compte que les fourmi ouvrière les plus courante dans les espèce a taille variable (2 ou 3 tailles).
<span class="fc" id="L107">    GString adj = new GString();</span>
<span class="fc bfc" id="L108" title="All 2 branches covered.">    if(polycalique){adj.add(g.get(&quot;polycalique&quot;));}</span>
<span class="fc" id="L109">    else{adj.add(g.get(&quot;monocalique&quot;));}</span>
<span class="fc bfc" id="L110" title="All 2 branches covered.">    if(monogyne){ adj.add(g.get(&quot;monogyne&quot;));}</span>
<span class="fc" id="L111">    else{ adj.add(g.get(&quot;polygyne&quot;));}</span>
<span class="pc bpc" id="L112" title="7 of 10 branches missed.">    if (insectivore &amp;&amp; granivore &amp;&amp; fongivore &amp;&amp; herbivore &amp;&amp; miellativore){ adj.add(g.get(&quot;omnivore&quot;));}</span>
    else{
<span class="fc bfc" id="L114" title="All 2 branches covered.">      if(insectivore){ adj.add(g.get(&quot;insectivore&quot;));}</span>
<span class="fc bfc" id="L115" title="All 2 branches covered.">      if(granivore){ adj.add(g.get(&quot;granivore&quot;));}</span>
<span class="fc bfc" id="L116" title="All 2 branches covered.">      if(fongivore){ adj.add(g.get(&quot;fongivore&quot;));}</span>
<span class="fc bfc" id="L117" title="All 2 branches covered.">      if(herbivore){ adj.add(g.get(&quot;herbivore&quot;));}</span>
<span class="fc bfc" id="L118" title="All 2 branches covered.">      if(miellativore){ adj.add(g.get(&quot;miellativore&quot;));}</span>
    }
<span class="fc" id="L120">    return nom +&quot;(&quot;+id+&quot;) est une espèce &quot; + adj.toString()+&quot;.&quot;;</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>