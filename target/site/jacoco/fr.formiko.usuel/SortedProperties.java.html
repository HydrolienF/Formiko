<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SortedProperties.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Formiko</a> &gt; <a href="index.source.html" class="el_package">fr.formiko.usuel</a> &gt; <span class="el_source">SortedProperties.java</span></div><h1>SortedProperties.java</h1><pre class="source lang-java linenums">package fr.formiko.usuel;

import java.io.FileOutputStream;
import java.util.Collections;
import java.util.Enumeration;
import java.util.Properties;
import java.util.Vector;
import java.util.*;
/**
*{@summary An extends class from Properties that is used to save Options in Formiko.}&lt;br&gt;
*Cf: https://stackoverflow.com/questions/10275862/how-to-sort-properties-in-java &lt;br&gt;
*@version 1.34
*@author St√©phane Millien
*/
public class SortedProperties extends Properties {
  /**
  *{@summary A simple extends for constructor with a default properties a args.}
  *@version 1.34
  */
  public SortedProperties(Properties p){
<span class="fc" id="L21">    super(p);</span>
<span class="fc" id="L22">  }</span>
  /**
  *{@summary A simple extends for constructor with a default number of properties as args.}
  *@version 1.34
  */
  public SortedProperties(int x){
<span class="fc" id="L28">    super(x);</span>
<span class="fc" id="L29">  }</span>
  /**
  *{@summary Set a sortable Set.}
  *@version 1.34
  */
  @Override
  public Set&lt;Object&gt; keySet() {
<span class="nc" id="L36">    return Collections.unmodifiableSet(new TreeSet&lt;Object&gt;(super.keySet()));</span>
  }
  /**
  *{@summary Function to force sorting.}
  *@version 1.34
  */
  @Override
  public Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entrySet() {
<span class="nc" id="L44">    Set&lt;Map.Entry&lt;Object, Object&gt;&gt; set1 = super.entrySet();</span>
<span class="nc" id="L45">    Set&lt;Map.Entry&lt;Object, Object&gt;&gt; set2 = new LinkedHashSet&lt;Map.Entry&lt;Object, Object&gt;&gt;(set1.size());</span>
<span class="nc" id="L46">    Iterator&lt;Map.Entry&lt;Object, Object&gt;&gt; iterator = set1.stream().sorted(new Comparator&lt;Map.Entry&lt;Object, Object&gt;&gt;() {</span>
      @Override
      public int compare(java.util.Map.Entry&lt;Object, Object&gt; o1, java.util.Map.Entry&lt;Object, Object&gt; o2) {
<span class="nc" id="L49">      return o1.getKey().toString().compareTo(o2.getKey().toString());</span>
      }
<span class="nc" id="L51">    }).iterator();</span>
<span class="nc bnc" id="L52" title="All 2 branches missed.">    while (iterator.hasNext())</span>
<span class="nc" id="L53">      set2.add(iterator.next());</span>
<span class="nc" id="L54">    return set2;</span>
  }
  /**
  *{@summary to get the sorted keySet.}
  *@version 1.34
  */
  @Override
  public synchronized Enumeration&lt;Object&gt; keys() {
<span class="nc" id="L62">    return Collections.enumeration(new TreeSet&lt;Object&gt;(super.keySet()));</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>